<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Node js Test</title>
</head>
<body>
   <h1 id= "sound"></h1>
   <input id= "name" type="text">
   <button onclick= "getSound()">API요청</button>
   <script>
      function getSound() {
         const name= document.getElementById('name').value
         console.log('test10', name)

         const url= `https://port-0-t231021nodejstocloudtype-euegqv2blo04cp9i.sel5.cloudtype.app/${name}`
         console.log(url)

         fetch (url) //  주어진 URL로 HTTP GET 요청을 보냅니다. 이 함수는 Promise를 반환하며, 이 Promise는 서버로부터의 응답 객체를 결과값으로 가집니다.
         .then((response)=> response.json()) // 응답 객체의 json 메소드를 호출하여 응답 본문을 JSON 형식으로 파싱합니다. json 메소드 역시 Promise를 반환합니다.

         .then((data => { // 변환된 JSON 데이터가 준비되면 실행되는 콜백 함수입니다. 이 함수 안에 실제로 데이터 처리 로직을 작성하면 됩니다.
            console.log('data', data)
            document.getElementById('sound').innerHTML = data.sound;  // 마지막으로, 반환된 데이터를 HTML 문서 내 'sound'라는 ID를 가진 h1 태그에 표시합니다.
            //  'sound' 속성의 값을 직접 표시해야 합니다.
         }))}
   </script>
   
</body>
</html>